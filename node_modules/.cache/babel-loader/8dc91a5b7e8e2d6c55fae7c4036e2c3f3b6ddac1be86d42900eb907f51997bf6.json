{"ast":null,"code":"import axios from\"axios\";const API_URL=\"https://redteagame.ddns.me/NodeAPI/express/myapp/api/courses\";class CourseService{post(title,description,price){let token;if(localStorage.getItem(\"user\")){token=JSON.parse(localStorage.getItem(\"user\")).token;}else{token=\"\";}return axios.post(API_URL+\"/create\",{title,description,price},{headers:{Authorization:token}});}// 使用學生id，找到學生註冊的課程\ngetEnrolledCourses(_id){let token;if(localStorage.getItem(\"user\")){token=JSON.parse(localStorage.getItem(\"user\")).token;}else{token=\"\";}return axios.get(API_URL+\"/student/\"+_id,{headers:{Authorization:token}});}// 使用instructor id，來找到講師擁有的課程\nget(_id){let token;if(localStorage.getItem(\"user\")){token=JSON.parse(localStorage.getItem(\"user\")).token;}else{token=\"\";}return axios.get(API_URL+\"/instructor/\"+_id,{headers:{Authorization:token}});}getAll(_id){let token;if(localStorage.getItem(\"user\")){token=JSON.parse(localStorage.getItem(\"user\")).token;}else{token=\"\";}return axios.get(API_URL+\"/all\",{headers:{Authorization:token}});}getCourseByName(name){let token;if(localStorage.getItem(\"user\")){token=JSON.parse(localStorage.getItem(\"user\")).token;}else{token=\"\";}return axios.get(API_URL+\"/findByName/\"+name,{headers:{Authorization:token}});}enroll(_id){//註冊\nlet token;if(localStorage.getItem(\"user\")){token=JSON.parse(localStorage.getItem(\"user\")).token;}else{token=\"\";}return axios.post(API_URL+\"/enroll/\"+_id,{},{headers:{Authorization:token}});}}export default new CourseService();","map":{"version":3,"names":["axios","API_URL","CourseService","post","title","description","price","token","localStorage","getItem","JSON","parse","headers","Authorization","getEnrolledCourses","_id","get","getAll","getCourseByName","name","enroll"],"sources":["D:/Fork/ReactProject/client/src/services/course.service.js"],"sourcesContent":["import axios from \"axios\";\r\nconst API_URL = \"https://redteagame.ddns.me/NodeAPI/express/myapp/api/courses\";\r\n\r\nclass CourseService {\r\n  post(title, description, price) {\r\n    let token;\r\n    if (localStorage.getItem(\"user\")) {\r\n      token = JSON.parse(localStorage.getItem(\"user\")).token;\r\n    } else {\r\n      token = \"\";\r\n    }\r\n    return axios.post(\r\n      API_URL+\"/create\",\r\n      { title, description, price },\r\n      {\r\n        headers: {\r\n          Authorization: token,\r\n        },\r\n      }\r\n    );\r\n  }\r\n\r\n  // 使用學生id，找到學生註冊的課程\r\n  getEnrolledCourses(_id) {\r\n    let token;\r\n    if (localStorage.getItem(\"user\")) {\r\n      token = JSON.parse(localStorage.getItem(\"user\")).token;\r\n    } else {\r\n      token = \"\";\r\n    }\r\n\r\n    return axios.get(API_URL + \"/student/\" + _id, {\r\n      headers: {\r\n        Authorization: token,\r\n      },\r\n    });\r\n  }\r\n\r\n  // 使用instructor id，來找到講師擁有的課程\r\n  get(_id) {\r\n    let token;\r\n    if (localStorage.getItem(\"user\")) {\r\n      token = JSON.parse(localStorage.getItem(\"user\")).token;\r\n    } else {\r\n      token = \"\";\r\n    }\r\n\r\n    return axios.get(API_URL + \"/instructor/\" + _id, {\r\n      headers: {\r\n        Authorization: token,\r\n      },\r\n    });\r\n  }\r\n\r\n  getAll(_id) {\r\n    let token;\r\n    if (localStorage.getItem(\"user\")) {\r\n      token = JSON.parse(localStorage.getItem(\"user\")).token;\r\n    } else {\r\n      token = \"\";\r\n    }\r\n\r\n    return axios.get(API_URL + \"/all\", {\r\n      headers: {\r\n        Authorization: token,\r\n      },\r\n    });\r\n  }\r\n\r\n  getCourseByName(name) {\r\n    let token;\r\n    if (localStorage.getItem(\"user\")) {\r\n      token = JSON.parse(localStorage.getItem(\"user\")).token;\r\n    } else {\r\n      token = \"\";\r\n    }\r\n    \r\n    return axios.get(API_URL + \"/findByName/\" + name, {\r\n      headers: {\r\n        Authorization: token,\r\n      },\r\n    });\r\n  }\r\n\r\n  enroll(_id) {//註冊\r\n    let token;\r\n    if (localStorage.getItem(\"user\")) {\r\n      token = JSON.parse(localStorage.getItem(\"user\")).token;\r\n    } else {\r\n      token = \"\";\r\n    }\r\n\r\n    return axios.post(\r\n      API_URL + \"/enroll/\" + _id,\r\n      {},\r\n      {\r\n        headers: {\r\n          Authorization: token,\r\n        },\r\n      }\r\n    );\r\n  }\r\n}\r\n\r\nexport default new CourseService();\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}