{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import AuthService from\"../services/auth.service\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const RegisterComponent=()=>{const navigate=useNavigate();let[username,setUsername]=useState(\"\");let[email,setEmail]=useState(\"\");let[password,setPassword]=useState(\"\");let[role,setRole]=useState(\"\");let[message,setMessage]=useState(\"\");//顯示失敗用訊息\nconst handleUsername=e=>{setUsername(e.target.value);};const handleEmail=e=>{setEmail(e.target.value);};const handlePassword=e=>{setPassword(e.target.value);};const handleRole=e=>{setRole(e.target.value);};const handleRegister=()=>{AuthService.register(username,email,password,role).then(()=>{window.alert(\"註冊成功。您現在將被導向到登入頁面\");navigate(\"/login\");}).catch(e=>{setMessage(e.response.data);});};return/*#__PURE__*/_jsx(\"div\",{style:{padding:\"3rem\"},className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{children:[message&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:message}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"\\u7528\\u6236\\u540D\\u7A31:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleUsername,type:\"text\",className:\"form-control\",name:\"username\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"\\u96FB\\u5B50\\u4FE1\\u7BB1\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleEmail,type:\"text\",className:\"form-control\",name:\"email\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"\\u5BC6\\u78BC\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handlePassword,type:\"password\",className:\"form-control\",name:\"password\",placeholder:\"\\u9577\\u5EA6\\u81F3\\u5C11\\u8D85\\u904E6\\u500B\\u82F1\\u6587\\u6216\\u6578\\u5B57\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"\\u8EAB\\u4EFD\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleRole,type:\"text\",className:\"form-control\",placeholder:\"\\u53EA\\u80FD\\u586B\\u5165student\\u6216\\u662Finstructor\\u9019\\u5169\\u500B\\u9078\\u9805\\u5176\\u4E00\",name:\"role\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRegister,className:\"btn btn-primary\",children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u8A3B\\u518A\\u6703\\u54E1\"})})]})});};export default RegisterComponent;","map":{"version":3,"names":["React","useState","useNavigate","AuthService","jsx","_jsx","jsxs","_jsxs","RegisterComponent","navigate","username","setUsername","email","setEmail","password","setPassword","role","setRole","message","setMessage","handleUsername","e","target","value","handleEmail","handlePassword","handleRole","handleRegister","register","then","window","alert","catch","response","data","style","padding","className","children","htmlFor","onChange","type","name","placeholder","onClick"],"sources":["D:/Fork/ReactProject/client/src/components/register-component.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport AuthService from \"../services/auth.service\";\r\n\r\nconst RegisterComponent = () => {\r\n  const navigate = useNavigate();\r\n  let [username, setUsername] = useState(\"\");\r\n  let [email, setEmail] = useState(\"\");\r\n  let [password, setPassword] = useState(\"\");\r\n  let [role, setRole] = useState(\"\");\r\n  let [message, setMessage] = useState(\"\");//顯示失敗用訊息\r\n\r\n  const handleUsername = (e) => {\r\n    setUsername(e.target.value);\r\n  };\r\n  const handleEmail = (e) => {\r\n    setEmail(e.target.value);\r\n  };\r\n  const handlePassword = (e) => {\r\n    setPassword(e.target.value);\r\n  };\r\n  const handleRole = (e) => {\r\n    setRole(e.target.value);\r\n  };\r\n\r\n  const handleRegister = () => {\r\n    AuthService.register(username, email, password, role)\r\n      .then(() => {\r\n        window.alert(\"註冊成功。您現在將被導向到登入頁面\");\r\n        navigate(\"/login\");\r\n      })\r\n      .catch((e) => {\r\n        setMessage(e.response.data);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: \"3rem\" }} className=\"col-md-12\">\r\n      <div>\r\n        {message && <div className=\"alert alert-danger\">{message}</div>}\r\n        <div>\r\n          <label htmlFor=\"username\">用戶名稱:</label>\r\n          <input\r\n            onChange={handleUsername}\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            name=\"username\"\r\n          />\r\n        </div>\r\n        <br />\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"email\">電子信箱：</label>\r\n          <input\r\n            onChange={handleEmail}\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            name=\"email\"\r\n          />\r\n        </div>\r\n        <br />\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"password\">密碼：</label>\r\n          <input\r\n            onChange={handlePassword}\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            name=\"password\"\r\n            placeholder=\"長度至少超過6個英文或數字\"\r\n          />\r\n        </div>\r\n        <br />\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"password\">身份：</label>\r\n          <input\r\n            onChange={handleRole}\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"只能填入student或是instructor這兩個選項其一\"\r\n            name=\"role\"\r\n          />\r\n        </div>\r\n        <br />\r\n        <button onClick={handleRegister} className=\"btn btn-primary\">\r\n          <span>註冊會員</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterComponent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}