{"ast":null,"code":"import React from\"react\";import{Link}from\"react-router-dom\";import AuthService from\"../services/auth.service\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const NavComponent=_ref=>{let{currentUser,setCurrentUser}=_ref;const handleLogout=()=>{AuthService.logout();//services/auth.service.js的logout方法 => 清空local storage\nwindow.alert(\"登出成功!現在您會被導向到首頁。\");setCurrentUser(null);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-light bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"button\",{class:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarNav\",\"aria-controls\":\"navbarNav\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{class:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarNav\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link active\",to:\"/\",children:\"\\u9996\\u9801\"})}),!currentUser&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/register\",children:\"\\u8A3B\\u518A\\u6703\\u54E1\"})}),!currentUser&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/login\",children:\"\\u6703\\u54E1\\u767B\\u5165\"})}),currentUser&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{onClick:handleLogout,className:\"nav-link\",to:\"/\",children:\"\\u767B\\u51FA\"})}),currentUser&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/profile\",children:\"\\u500B\\u4EBA\\u9801\\u9762\"})}),currentUser&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/course\",children:\"\\u8AB2\\u7A0B\\u9801\\u9762\"})}),currentUser&&currentUser.user.role==\"instructor\"&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/postCourse\",children:\"\\u65B0\\u589E\\u8AB2\\u7A0B\"})}),currentUser&&currentUser.user.role==\"student\"&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/enroll\",children:\"\\u8A3B\\u518A\\u8AB2\\u7A0B\"})})]})})]})})})});};export default NavComponent;","map":{"version":3,"names":["React","Link","AuthService","jsx","_jsx","jsxs","_jsxs","NavComponent","_ref","currentUser","setCurrentUser","handleLogout","logout","window","alert","children","className","class","type","id","to","onClick","user","role"],"sources":["D:/Fork/ReactProject/client/src/components/nav-component.js"],"sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AuthService from \"../services/auth.service\";\r\n\r\nconst NavComponent = ({ currentUser, setCurrentUser }) => {\r\n  \r\n  const handleLogout = () => {\r\n    AuthService.logout(); //services/auth.service.js的logout方法 => 清空local storage\r\n    window.alert(\"登出成功!現在您會被導向到首頁。\");\r\n    setCurrentUser(null);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <nav>\r\n        <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n          <div className=\"container-fluid\">\r\n            <button\r\n              class=\"navbar-toggler\"\r\n              type=\"button\"\r\n              data-bs-toggle=\"collapse\"\r\n              data-bs-target=\"#navbarNav\"\r\n              aria-controls=\"navbarNav\"\r\n              aria-expanded=\"false\"\r\n              aria-label=\"Toggle navigation\"\r\n            >\r\n              <span class=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n\r\n            <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n              <ul className=\"navbar-nav\">\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link active\" to=\"/\">\r\n                    首頁\r\n                  </Link>\r\n                </li>\r\n\r\n                {!currentUser && (\r\n                  <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" to=\"/register\">\r\n                      註冊會員\r\n                    </Link>\r\n                  </li>\r\n                )}\r\n                {!currentUser && (\r\n                  <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" to=\"/login\">\r\n                      會員登入\r\n                    </Link>\r\n                  </li>\r\n                )}\r\n                {currentUser && (\r\n                  <li className=\"nav-item\">\r\n                     <Link onClick={handleLogout} className=\"nav-link\" to=\"/\">\r\n                      登出\r\n                    </Link>\r\n                  </li>\r\n                )}\r\n                {currentUser && (\r\n                  <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" to=\"/profile\">\r\n                      個人頁面\r\n                    </Link>\r\n                  </li>\r\n                )}\r\n                {currentUser && (\r\n                  <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" to=\"/course\">\r\n                      課程頁面\r\n                    </Link>\r\n                  </li>\r\n                )}\r\n\r\n                {currentUser && currentUser.user.role == \"instructor\" && (\r\n                  <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" to=\"/postCourse\">\r\n                      新增課程\r\n                    </Link>\r\n                  </li>\r\n                )}\r\n                {currentUser && currentUser.user.role == \"student\" && (\r\n                  <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" to=\"/enroll\">\r\n                      註冊課程\r\n                    </Link>\r\n                  </li>\r\n                )}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavComponent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}